{"ast":null,"code":"\"use strict\";\n\nconst http = require(\"http\");\n\nconst https = require(\"https\");\n\nconst {\n  parse: parseURLToNodeOptions\n} = require(\"url\");\n\nconst HttpProxyAgent = require(\"http-proxy-agent\");\n\nconst HttpsProxyAgent = require(\"https-proxy-agent\");\n\nmodule.exports = function agentFactory(proxy, rejectUnauthorized) {\n  const agentOpts = {\n    keepAlive: true,\n    rejectUnauthorized\n  };\n\n  if (proxy) {\n    const proxyOpts = { ...parseURLToNodeOptions(proxy),\n      ...agentOpts\n    };\n    return {\n      https: new HttpsProxyAgent(proxyOpts),\n      http: new HttpProxyAgent(proxyOpts)\n    };\n  }\n\n  return {\n    http: new http.Agent(agentOpts),\n    https: new https.Agent(agentOpts)\n  };\n};","map":{"version":3,"sources":["/Applications/MAMP/htdocs/aljazira/node_modules/jsdom/lib/jsdom/living/helpers/agent-factory.js"],"names":["http","require","https","parse","parseURLToNodeOptions","HttpProxyAgent","HttpsProxyAgent","module","exports","agentFactory","proxy","rejectUnauthorized","agentOpts","keepAlive","proxyOpts","Agent"],"mappings":"AAAA;;AACA,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AACA,MAAMC,KAAK,GAAGD,OAAO,CAAC,OAAD,CAArB;;AACA,MAAM;AAAEE,EAAAA,KAAK,EAAEC;AAAT,IAAmCH,OAAO,CAAC,KAAD,CAAhD;;AACA,MAAMI,cAAc,GAAGJ,OAAO,CAAC,kBAAD,CAA9B;;AACA,MAAMK,eAAe,GAAGL,OAAO,CAAC,mBAAD,CAA/B;;AAEAM,MAAM,CAACC,OAAP,GAAiB,SAASC,YAAT,CAAsBC,KAAtB,EAA6BC,kBAA7B,EAAiD;AAChE,QAAMC,SAAS,GAAG;AAAEC,IAAAA,SAAS,EAAE,IAAb;AAAmBF,IAAAA;AAAnB,GAAlB;;AACA,MAAID,KAAJ,EAAW;AACT,UAAMI,SAAS,GAAG,EAAE,GAAGV,qBAAqB,CAACM,KAAD,CAA1B;AAAmC,SAAGE;AAAtC,KAAlB;AACA,WAAO;AAAEV,MAAAA,KAAK,EAAE,IAAII,eAAJ,CAAoBQ,SAApB,CAAT;AAAyCd,MAAAA,IAAI,EAAE,IAAIK,cAAJ,CAAmBS,SAAnB;AAA/C,KAAP;AACD;;AACD,SAAO;AAAEd,IAAAA,IAAI,EAAE,IAAIA,IAAI,CAACe,KAAT,CAAeH,SAAf,CAAR;AAAmCV,IAAAA,KAAK,EAAE,IAAIA,KAAK,CAACa,KAAV,CAAgBH,SAAhB;AAA1C,GAAP;AACD,CAPD","sourcesContent":["\"use strict\";\nconst http = require(\"http\");\nconst https = require(\"https\");\nconst { parse: parseURLToNodeOptions } = require(\"url\");\nconst HttpProxyAgent = require(\"http-proxy-agent\");\nconst HttpsProxyAgent = require(\"https-proxy-agent\");\n\nmodule.exports = function agentFactory(proxy, rejectUnauthorized) {\n  const agentOpts = { keepAlive: true, rejectUnauthorized };\n  if (proxy) {\n    const proxyOpts = { ...parseURLToNodeOptions(proxy), ...agentOpts };\n    return { https: new HttpsProxyAgent(proxyOpts), http: new HttpProxyAgent(proxyOpts) };\n  }\n  return { http: new http.Agent(agentOpts), https: new https.Agent(agentOpts) };\n};\n"]},"metadata":{},"sourceType":"script"}